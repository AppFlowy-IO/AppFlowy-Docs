<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="293px" preserveAspectRatio="none" style="width:1028px;height:293px;background:#FFFFFF;" version="1.1" viewBox="0 0 1028 293" width="1028px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="29.1201" id="_title" style="stroke:none;stroke-width:1.0;" width="32" x="491" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="22" x="496" y="26.0439">FFI</text><!--MD5=[2aca6c1f81bc9caa3adc85cdb9207797]
cluster Frontend(Flutter)--><g id="cluster_Frontend(Flutter)"><path d="M8.5,46.1201 L131.5,46.1201 A3.75,3.75 0 0 1 134,48.6201 L141,71.2402 L373.5,71.2402 A2.5,2.5 0 0 1 376,73.7402 L376,151.6201 A2.5,2.5 0 0 1 373.5,154.1201 L8.5,154.1201 A2.5,2.5 0 0 1 6,151.6201 L6,48.6201 A2.5,2.5 0 0 1 8.5,46.1201 " fill="#DDDDDD" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="141" y1="71.2402" y2="71.2402"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="122" x="10" y="64.1641">Frontend(Flutter)</text></g><!--MD5=[5111661328c34b15a1f9c9e7e6ccb1cc]
cluster Frontend(Tauri)--><g id="cluster_Frontend(Tauri)"><path d="M8.5,178.1201 L119.5,178.1201 A3.75,3.75 0 0 1 122,180.6201 L129,203.2402 L373.5,203.2402 A2.5,2.5 0 0 1 376,205.7402 L376,283.6201 A2.5,2.5 0 0 1 373.5,286.1201 L8.5,286.1201 A2.5,2.5 0 0 1 6,283.6201 L6,180.6201 A2.5,2.5 0 0 1 8.5,178.1201 " fill="#DDDDDD" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="129" y1="203.2402" y2="203.2402"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="110" x="10" y="196.1641">Frontend(Tauri)</text></g><!--MD5=[c00875e161d710ba0eeec4dd7503ca15]
cluster Backend(Rust)--><g id="cluster_Backend(Rust)"><path d="M457.5,89.1201 L561.5,89.1201 A3.75,3.75 0 0 1 564,91.6201 L571,114.2402 L1018.5,114.2402 A2.5,2.5 0 0 1 1021,116.7402 L1021,237.6201 A2.5,2.5 0 0 1 1018.5,240.1201 L457.5,240.1201 A2.5,2.5 0 0 1 455,237.6201 L455,91.6201 A2.5,2.5 0 0 1 457.5,89.1201 " fill="#DDDDDD" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="455" x2="571" y1="114.2402" y2="114.2402"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="103" x="459" y="107.1641">Backend(Rust)</text></g><!--MD5=[7ee892ea0b36b3e51e6f3d44001b1f91]
entity Repository_Flutter--><g id="elem_Repository_Flutter"><rect fill="#F1F1F1" height="49.1201" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="22" y="84.6201"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="110" y="89.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="108" y="91.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="108" y="95.6201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="37" y="120.6641">Repository</text></g><!--MD5=[55950eff8182a8264eda281ca021a80e]
entity FFI_Flutter--><g id="elem_FFI_Flutter"><rect fill="#FFDDDD" height="49.1201" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="299" y="86.6201"/><rect fill="#FFDDDD" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="340" y="91.6201"/><rect fill="#FFDDDD" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="338" y="93.6201"/><rect fill="#FFDDDD" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="338" y="97.6201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="314" y="122.6641">FFI</text></g><!--MD5=[5f06595752167d44a7aac83fcaefea8a]
entity Repository_Tauri--><g id="elem_Repository_Tauri"><rect fill="#F1F1F1" height="49.1201" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="22" y="216.6201"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="110" y="221.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="108" y="223.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="108" y="227.6201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="37" y="252.6641">Repository</text></g><!--MD5=[e0ac670903a2b1b6fa3503291ba2c3e6]
entity FFI_Tauri--><g id="elem_FFI_Tauri"><rect fill="#FFDDDD" height="49.1201" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="299" y="216.6201"/><rect fill="#FFDDDD" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="340" y="221.6201"/><rect fill="#FFDDDD" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="338" y="223.6201"/><rect fill="#FFDDDD" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="338" y="227.6201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="314" y="252.6641">FFI</text></g><!--MD5=[179e2604d0e0114e09ff0fc2b2cdbe9a]
entity FFI_Backend--><g id="elem_FFI_Backend"><rect fill="#FFDDDD" height="49.1201" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="471" y="164.6201"/><rect fill="#FFDDDD" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="512" y="169.6201"/><rect fill="#FFDDDD" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="510" y="171.6201"/><rect fill="#FFDDDD" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="510" y="175.6201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="486" y="200.6641">FFI</text></g><!--MD5=[8438b603195005c18d5011c1879083f4]
entity Dispatcher--><g id="elem_Dispatcher"><rect fill="#F1F1F1" height="49.1201" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="701" y="164.6201"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="789" y="169.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="787" y="171.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="787" y="175.6201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="716" y="200.6641">Dispatcher</text></g><!--MD5=[852a81768349dd0bcf262751242e7ec8]
entity Crate--><g id="elem_Crate"><rect fill="#F1F1F1" height="49.1201" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="930" y="174.6201"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="985" y="179.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="983" y="181.6201"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="983" y="185.6201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="945" y="210.6641">Crate</text></g><!--MD5=[2b439928b75ecfe267c17cc06c1c0c76]
link Repository_Flutter to FFI_Flutter--><g id="link_Repository_Flutter_FFI_Flutter"><path d="M130.03,109.5401 C179.33,109.9301 251.35,110.5101 293.72,110.8401 " fill="none" id="Repository_Flutter-to-FFI_Flutter" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="298.74,110.8801,289.7746,106.8031,293.7402,110.8373,289.706,114.8028,298.74,110.8801" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="161" y="107.0181">1.Event + Protobuf</text></g><!--MD5=[445928287bb3bc8516221edac5e0a8a5]
link FFI_Flutter to FFI_Backend--><g id="link_FFI_Flutter_FFI_Backend"><path d="M360.11,124.7101 C389.64,138.2501 434.96,159.0501 466.08,173.3301 " fill="none" id="FFI_Flutter-to-FFI_Backend" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="470.94,175.5601,464.4298,168.1697,466.396,173.4739,461.0919,175.4401,470.94,175.5601" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="393" y="138.0181">2.Bytes</text></g><!--MD5=[7d6c668cf2d498c13939c118f576bc50]
link Repository_Tauri to FFI_Tauri--><g id="link_Repository_Tauri_FFI_Tauri"><path d="M130.03,241.1201 C179.33,241.1201 251.35,241.1201 293.72,241.1201 " fill="none" id="Repository_Tauri-to-FFI_Tauri" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="298.74,241.1201,289.74,237.1201,293.74,241.1201,289.74,245.1201,298.74,241.1201" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="161" y="238.0181">1.Event + Protobuf</text></g><!--MD5=[75bc4cf0d58fc7f2acee8ac3ba667540]
link FFI_Tauri to FFI_Backend--><g id="link_FFI_Tauri_FFI_Backend"><path d="M360.15,234.5601 C392.27,227.4601 439,217.1201 439,217.1201 C439,217.1201 452,211.2001 466.04,204.8101 " fill="none" id="FFI_Tauri-to-FFI_Backend" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="470.83,202.6301,460.9816,202.7245,466.2806,204.7045,464.3006,210.0035,470.83,202.6301" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="393" y="214.0181">2.Bytes</text></g><!--MD5=[4995e94678fa022b3b0236d8d155fc5d]
link FFI_Backend to Dispatcher--><g id="link_FFI_Backend_Dispatcher"><path d="M532.34,189.1201 C572.47,189.1201 644.68,189.1201 695.76,189.1201 " fill="none" id="FFI_Backend-to-Dispatcher" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="700.95,189.1201,691.95,185.1201,695.95,189.1201,691.95,193.1201,700.95,189.1201" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="563" y="186.0181">3.Event + Protobuf</text></g><!--MD5=[7c34829781f2f21cb5004b050203a686]
link Dispatcher to Crate--><g id="link_Dispatcher_Crate"><path d="M809.12,191.6401 C844.96,193.3501 891.59,195.5601 924.76,197.1401 " fill="none" id="Dispatcher-to-Crate" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="929.97,197.3801,921.1747,192.9482,924.9759,197.1375,920.7865,200.9388,929.97,197.3801" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="840" y="191.0181">4.Protobuf</text></g><!--MD5=[9f24cc3c7d8f7d0640b8cbb231d1733c]
link Crate to Crate--><g id="link_Crate_Crate"><path d="M951.01,174.3601 C945.83,156.9101 951.33,139.6201 967.5,139.6201 C982.16,139.6201 988.05,153.8201 985.17,169.4701 " fill="none" id="Crate-to-Crate" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="983.99,174.3601,989.9886,166.5488,985.1623,169.4995,982.2116,164.6732,983.99,174.3601" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="938" y="131.5181">5. Handler</text></g><!--MD5=[393b56f31659ddb2253f7357583960f4]
@startuml FlowySDK
title FFI
left to right direction
skinparam linetype polyline

package "Frontend(Flutter)" #DDDDDD {
    component Repository_Flutter as "Repository"
    component FFI_Flutter as "FFI" #FFDDDD
}

package "Frontend(Tauri)" #DDDDDD {
    component Repository_Tauri as "Repository"
    component FFI_Tauri as "FFI" #FFDDDD
}

package "Backend(Rust)" #DDDDDD {
    component FFI_Backend as "FFI" #FFDDDD
    component Dispatcher
    component Crate
}

Repository_Flutter ..> FFI_Flutter : 1.Event + Protobuf
FFI_Flutter - -> FFI_Backend : 2.Bytes

Repository_Tauri ..> FFI_Tauri: 1.Event + Protobuf
FFI_Tauri - -> FFI_Backend : 2.Bytes

FFI_Backend - -> Dispatcher : 3.Event + Protobuf
Dispatcher - -> Crate: 4.Protobuf
Crate - -> Crate: 5. Handler
@enduml

PlantUML version 1.2022.12(Mon Oct 24 02:12:26 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>