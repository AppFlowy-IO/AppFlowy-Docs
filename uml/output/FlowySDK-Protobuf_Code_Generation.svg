<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="609px" preserveAspectRatio="none" style="width:1426px;height:609px;background:#FFFFFF;" version="1.1" viewBox="0 0 1426 609" width="1426px" zoomAndPan="magnify"><defs/><g><rect height="26.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="197" x="607.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="187" x="612.5" y="23.5352">Protobuf Code Generation</text><!--MD5=[9ac7a205795c53aee153cf1f5d6f7d8a]
cluster Part_One--><g id="cluster_Part_One"><rect height="559" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="682" x="7" y="44.4883"/><path d="M82,44.4883 L82,53.9766 L72,63.9766 L7,63.9766 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="65" x="10" y="59.0234">Part_One</text></g><!--MD5=[7a53db9ccc194c46da066af3f6ad1ff0]
cluster Event--><g id="cluster_Event"><polygon fill="#DDDDDD" points="497,97.4883,507,87.4883,665,87.4883,665,311.4883,655,321.4883,497,321.4883,497,97.4883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="97.4883" y2="87.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="497" x2="655" y1="97.4883" y2="97.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="655" y1="97.4883" y2="321.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="39" x="557.5" y="114.0234">Event</text></g><!--MD5=[b44a8a9a23e117b660d0c393c238cc3d]
cluster Protobuf--><g id="cluster_Protobuf"><polygon fill="#DDDDDD" points="512,355.4883,522,345.4883,651,345.4883,651,569.4883,641,579.4883,512,579.4883,512,355.4883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="641" x2="651" y1="355.4883" y2="345.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="512" x2="641" y1="355.4883" y2="355.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="641" x2="641" y1="355.4883" y2="579.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63" x="546" y="372.0234">Protobuf</text></g><!--MD5=[123d366420e849c8f3991dca83101960]
cluster Part_Two--><g id="cluster_Part_Two"><rect height="169" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="231" x="713" y="239.4883"/><path d="M790,239.4883 L790,248.9766 L780,258.9766 L713,258.9766 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="67" x="716" y="254.0234">Part_Two</text></g><!--MD5=[797b0f0b9fce6e4f10568bb80a59a4d1]
cluster Build.rs--><g id="cluster_Build.rs"><polygon fill="#DDDDDD" points="737,292.4883,747,282.4883,920,282.4883,920,374.4883,910,384.4883,737,384.4883,737,292.4883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910" x2="920" y1="292.4883" y2="282.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="737" x2="910" y1="292.4883" y2="292.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="910" x2="910" y1="292.4883" y2="384.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54" x="797.5" y="309.0234">Build.rs</text></g><!--MD5=[95d34daf5d5b30a3db480537cb76cd6f]
cluster Part_Three--><g id="cluster_Part_Three"><rect height="407" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="228" x="968" y="102.4883"/><path d="M1055,102.4883 L1055,111.9766 L1045,121.9766 L968,121.9766 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77" x="971" y="117.0234">Part_Three</text></g><!--MD5=[c6cdad425a53e4290e936fe4454abfe6]
cluster Protobuf_Files_Dart--><g id="cluster_Protobuf_Files_Dart"><rect fill="#DDDDDD" height="158" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="180" x="992" y="145.4883"/><rect fill="#DDDDDD" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="1152" y="150.4883"/><rect fill="#DDDDDD" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1150" y="152.4883"/><rect fill="#DDDDDD" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1150" y="156.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="1031" y="172.0234">Protobuf Files</text></g><!--MD5=[0c3ba85bfe9d6ba64bfbae4109da567e]
cluster Protobuf_Files_Rust--><g id="cluster_Protobuf_Files_Rust"><rect fill="#DDDDDD" height="158" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="143" x="1010.5" y="327.4883"/><rect fill="#DDDDDD" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="1133.5" y="332.4883"/><rect fill="#DDDDDD" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1131.5" y="334.4883"/><rect fill="#DDDDDD" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1131.5" y="338.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="1031" y="354.0234">Protobuf Files</text></g><!--MD5=[93488fcf415543107cf8dac8ebf893ba]
cluster Part_Four--><g id="cluster_Part_Four"><rect height="285" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="200" x="1220" y="163.4883"/><path d="M1298,163.4883 L1298,172.9766 L1288,182.9766 L1220,182.9766 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="68" x="1223" y="178.0234">Part_Four</text></g><!--MD5=[b24267d2964530fde97dbe32f532d632]
cluster frontend (Flutter)--><g id="cluster_frontend (Flutter)"><path d="M1246.5,206.4883 L1383.5,206.4883 A3.75,3.75 0 0 1 1386,208.9883 L1393,228.9766 L1393.5,228.9766 A2.5,2.5 0 0 1 1396,231.4766 L1396,300.9883 A2.5,2.5 0 0 1 1393.5,303.4883 L1246.5,303.4883 A2.5,2.5 0 0 1 1244,300.9883 L1244,208.9883 A2.5,2.5 0 0 1 1246.5,206.4883 " fill="#DDDDDD" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1244" x2="1393" y1="228.9766" y2="228.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136" x="1248" y="222.0234">frontend (Flutter)</text></g><!--MD5=[dda78dbc42a958268ede67472bfec7a7]
cluster Backend (Rust)--><g id="cluster_Backend (Rust)"><path d="M1256.5,327.4883 L1373.5,327.4883 A3.75,3.75 0 0 1 1376,329.9883 L1383,349.9766 L1383.5,349.9766 A2.5,2.5 0 0 1 1386,352.4766 L1386,421.9883 A2.5,2.5 0 0 1 1383.5,424.4883 L1256.5,424.4883 A2.5,2.5 0 0 1 1254,421.9883 L1254,329.9883 A2.5,2.5 0 0 1 1256.5,327.4883 " fill="#DDDDDD" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1254" x2="1383" y1="349.9766" y2="349.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="116" x="1258" y="343.0234">Backend (Rust)</text></g><g id="elem_GMN691"><path d="M23,251.9883 L23,323.2305 A0,0 0 0 0 23,323.2305 L444,323.2305 A0,0 0 0 0 444,323.2305 L444,291.4883 L525.45,287.4883 L444,283.4883 L444,261.9883 L434,251.9883 L23,251.9883 A0,0 0 0 0 23,251.9883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M434,251.9883 L434,261.9883 L444,261.9883 L434,251.9883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="29" y="269.5566">enum FolderEvent {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384" x="45" y="284.8672">#[event(input = "ExportPayloadPB", output = "ExportDataPB")]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="45" y="300.1777">ExportDocument = 0,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="29" y="315.4883">}</text></g><g id="elem_GMN698"><path d="M122,469.9883 L122,587.1621 A0,0 0 0 0 122,587.1621 L345,587.1621 A0,0 0 0 0 345,587.1621 L345,537.9383 L543.1,543.6683 L345,529.9383 L345,479.9883 L335,469.9883 L122,469.9883 A0,0 0 0 0 122,469.9883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M335,469.9883 L335,479.9883 L345,479.9883 L335,469.9883 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="128" y="487.5566">struct ExportDataPB {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="144" y="502.8672">#[pb(index = 1)]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="144" y="518.1777">pub data: String,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="128" y="533.4883">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="144" y="548.7988">#[pb(index = 2)]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="144" y="564.1094">pub export_type: ExportType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="128" y="579.4199">}</text></g><!--MD5=[8c5837f77ad61418129a059f73895239]
entity EventSource--><g id="elem_EventSource"><path d="M525.5,271.9883 L525.5,303.4766 A2.5,2.5 0 0 0 528,305.9766 L634,305.9766 A2.5,2.5 0 0 0 636.5,303.4766 L636.5,279.4883 L626.5,269.4883 L528,269.4883 A2.5,2.5 0 0 0 525.5,271.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M626.5,269.4883 L626.5,276.9883 A2.5,2.5 0 0 0 629,279.4883 L636.5,279.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="535.5" y="293.0234">event_map.rs</text></g><!--MD5=[134ad0d61f2d87d0a74460b529eb51cf]
entity EventCodeGen--><g id="elem_EventCodeGen"><path d="M545,200.9883 L545,232.4766 A2.5,2.5 0 0 0 547.5,234.9766 L614.5,234.9766 A2.5,2.5 0 0 0 617,232.4766 L617,208.4883 L607,198.4883 L547.5,198.4883 A2.5,2.5 0 0 0 545,200.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M607,198.4883 L607,205.9883 A2.5,2.5 0 0 0 609.5,208.4883 L617,208.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="555" y="222.0234">build.rs</text></g><!--MD5=[c7b7b7a44a4bb769302a0d681df827ac]
entity EventDefine--><g id="elem_EventDefine"><path d="M513,129.9883 L513,161.4766 A2.5,2.5 0 0 0 515.5,163.9766 L646.5,163.9766 A2.5,2.5 0 0 0 649,161.4766 L649,137.4883 L639,127.4883 L515.5,127.4883 A2.5,2.5 0 0 0 513,129.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M639,127.4883 L639,134.9883 A2.5,2.5 0 0 0 641.5,137.4883 L649,137.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="523" y="151.0234">event_map.proto</text></g><!--MD5=[0312c884275267320a5163b7df1c935b]
entity PBSource--><g id="elem_PBSource"><path d="M543.5,529.9883 L543.5,561.4766 A2.5,2.5 0 0 0 546,563.9766 L616,563.9766 A2.5,2.5 0 0 0 618.5,561.4766 L618.5,537.4883 L608.5,527.4883 L546,527.4883 A2.5,2.5 0 0 0 543.5,529.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M608.5,527.4883 L608.5,534.9883 A2.5,2.5 0 0 0 611,537.4883 L618.5,537.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="553.5" y="551.0234">share.rs</text></g><!--MD5=[f6582b33e3b36b5978205c835fbee9c3]
entity PBCodeGen--><g id="elem_PBCodeGen"><path d="M545,458.9883 L545,490.4766 A2.5,2.5 0 0 0 547.5,492.9766 L614.5,492.9766 A2.5,2.5 0 0 0 617,490.4766 L617,466.4883 L607,456.4883 L547.5,456.4883 A2.5,2.5 0 0 0 545,458.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M607,456.4883 L607,463.9883 A2.5,2.5 0 0 0 609.5,466.4883 L617,466.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="555" y="480.0234">build.rs</text></g><!--MD5=[5cbde59b9862f67d0f0cd3924c8b51f0]
entity PBDefine--><g id="elem_PBDefine"><path d="M531,387.9883 L531,419.4766 A2.5,2.5 0 0 0 533.5,421.9766 L628.5,421.9766 A2.5,2.5 0 0 0 631,419.4766 L631,395.4883 L621,385.4883 L533.5,385.4883 A2.5,2.5 0 0 0 531,387.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M621,385.4883 L621,392.9883 A2.5,2.5 0 0 0 623.5,395.4883 L631,395.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="541" y="409.0234">share.proto</text></g><!--MD5=[6be6168b6d2c053508892e3f05d497a7]
entity Builder--><g id="elem_Builder"><rect fill="#F7931E" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="753" y="322.4883"/><rect fill="#F7931E" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="884" y="327.4883"/><rect fill="#F7931E" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="882" y="329.4883"/><rect fill="#F7931E" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="882" y="333.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="768" y="356.0234">Protoc Compiler</text></g><!--MD5=[ea6b2fd6a43e9d24fce94b6e51337f9b]
entity dart_event--><g id="elem_dart_event"><path d="M1008,253.9883 L1008,285.4766 A2.5,2.5 0 0 0 1010.5,287.9766 L1153.5,287.9766 A2.5,2.5 0 0 0 1156,285.4766 L1156,261.4883 L1146,251.4883 L1010.5,251.4883 A2.5,2.5 0 0 0 1008,253.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1146,251.4883 L1146,258.9883 A2.5,2.5 0 0 0 1148.5,261.4883 L1156,261.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1018" y="275.0234">event_map.pb.dart</text></g><!--MD5=[921fa1d0995e300241b21d7093e59f2c]
entity dart_pb--><g id="elem_dart_pb"><path d="M1026,182.9883 L1026,214.4766 A2.5,2.5 0 0 0 1028.5,216.9766 L1135.5,216.9766 A2.5,2.5 0 0 0 1138,214.4766 L1138,190.4883 L1128,180.4883 L1028.5,180.4883 A2.5,2.5 0 0 0 1026,182.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1128,180.4883 L1128,187.9883 A2.5,2.5 0 0 0 1130.5,190.4883 L1138,190.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="1036" y="204.0234">share.pb.dart</text></g><!--MD5=[96e2a2c4560a7e38d83c571b1180744a]
entity rust_event--><g id="elem_rust_event"><path d="M1026.5,435.9883 L1026.5,467.4766 A2.5,2.5 0 0 0 1029,469.9766 L1135,469.9766 A2.5,2.5 0 0 0 1137.5,467.4766 L1137.5,443.4883 L1127.5,433.4883 L1029,433.4883 A2.5,2.5 0 0 0 1026.5,435.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1127.5,433.4883 L1127.5,440.9883 A2.5,2.5 0 0 0 1130,443.4883 L1137.5,443.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1036.5" y="457.0234">event_map.rs</text></g><!--MD5=[e35d75fda48948c0c1bd5e726bdbde16]
entity rust_pb--><g id="elem_rust_pb"><path d="M1044.5,364.9883 L1044.5,396.4766 A2.5,2.5 0 0 0 1047,398.9766 L1117,398.9766 A2.5,2.5 0 0 0 1119.5,396.4766 L1119.5,372.4883 L1109.5,362.4883 L1047,362.4883 A2.5,2.5 0 0 0 1044.5,364.9883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1109.5,362.4883 L1109.5,369.9883 A2.5,2.5 0 0 0 1112,372.4883 L1119.5,372.4883 " fill="#FFDDDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1054.5" y="386.0234">share.rs</text></g><!--MD5=[4e260e4024c27e03c495c33059d2b5ff]
entity Repository--><g id="elem_Repository"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="1263" y="241.4883"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1356" y="246.4883"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1354" y="248.4883"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1354" y="252.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1278" y="275.0234">Repository</text></g><!--MD5=[32a6d3b508021f5875dd65aaa7b12f72]
entity Module--><g id="elem_Module"><rect fill="#F1F1F1" height="46.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1274" y="362.4883"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1345" y="367.4883"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1343" y="369.4883"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1343" y="373.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1289" y="396.0234">Module</text></g><!--MD5=[7bbae99804f933e2cfd5635508782a18]
link EventSource to EventCodeGen--><g id="link_EventSource_EventCodeGen"><path d="M581,269.3083 C581,266.1283 581,263.8183 581,263.8183 C581,263.8183 581,240.1583 581,240.1583 C581,240.1583 581,240.0083 581,239.7483 " fill="none" id="EventSource-to-EventCodeGen" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="581,234.6683,577,243.6683,581,239.6683,585,243.6683,581,234.6683" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a5bef84aceeb31fda65b127336877e97]
link EventCodeGen to EventDefine--><g id="link_EventCodeGen_EventDefine"><path d="M581,198.3083 C581,195.1283 581,192.8183 581,192.8183 C581,192.8183 581,169.1583 581,169.1583 C581,169.1583 581,169.0083 581,168.7483 " fill="none" id="EventCodeGen-to-EventDefine" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="581,163.6683,577,172.6683,581,168.6683,585,172.6683,581,163.6683" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[52c76e1142e682dc8fde9e5c46afeaed]
link PBSource to PBCodeGen--><g id="link_PBSource_PBCodeGen"><path d="M581,527.3083 C581,524.1283 581,521.8183 581,521.8183 C581,521.8183 581,498.1583 581,498.1583 C581,498.1583 581,498.0083 581,497.7483 " fill="none" id="PBSource-to-PBCodeGen" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="581,492.6683,577,501.6683,581,497.6683,585,501.6683,581,492.6683" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[fab9561cc20a7121af96a687619ac95d]
link PBCodeGen to PBDefine--><g id="link_PBCodeGen_PBDefine"><path d="M581,456.3083 C581,453.1283 581,450.8183 581,450.8183 C581,450.8183 581,427.1583 581,427.1583 C581,427.1583 581,427.0083 581,426.7483 " fill="none" id="PBCodeGen-to-PBDefine" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="581,421.6683,577,430.6683,581,426.6683,585,430.6683,581,421.6683" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c2e39d4ff537e18da74a6578ed55c362]
link EventDefine to Builder--><g id="link_EventDefine_Builder"><path d="M641.18,163.4983 C669.36,172.0783 697,180.4883 697,180.4883 C697,180.4883 768.71,271.1583 805.82,318.0783 " fill="none" id="EventDefine-to-Builder" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="809.08,322.1983,806.6281,312.6595,805.9758,318.2786,800.3566,317.6263,809.08,322.1983" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[8ed024b506e73e2349a03bc4b3c9c30e]
link PBDefine to Builder--><g id="link_PBDefine_Builder"><path d="M631.09,391.8883 C664.44,384.0083 709.29,373.4183 747.71,364.3383 " fill="none" id="PBDefine-to-Builder" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="752.85,363.1283,743.1743,361.2896,747.9822,364.2703,745.0015,369.0782,752.85,363.1283" style="stroke:#0000FF;stroke-width:1.0;"/></g><!--MD5=[dda8f60c1bfc94240aa6d1cd68dce6b6]
link Builder to dart_event--><g id="link_Builder_dart_event"><path d="M904.28,322.8883 C939.88,312.1283 982.05,299.3883 1016.27,289.0483 " fill="none" id="Builder-to-dart_event" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="1021.26,287.5383,1011.4851,286.3332,1016.4768,288.9947,1013.8153,293.9863,1021.26,287.5383" style="stroke:#006400;stroke-width:1.0;"/></g><!--MD5=[381d622b62bac85a781fb70a156c5243]
link Builder to dart_pb--><g id="link_Builder_dart_pb"><path d="M856.54,322.2783 C894.76,289.4783 960,233.4883 960,233.4883 C960,233.4883 990.54,224.6583 1020.94,215.8583 " fill="none" id="Builder-to-dart_pb" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="1025.81,214.4483,1016.0537,213.1015,1021.0062,215.8351,1018.2726,220.7876,1025.81,214.4483" style="stroke:#006400;stroke-width:1.0;"/></g><!--MD5=[9d692fe468d7a50906bff258aa02f74e]
link Builder to rust_event--><g id="link_Builder_rust_event"><path d="M872.59,368.5983 C910.6,388.9883 960,415.4883 960,415.4883 C960,415.4883 990.77,424.6383 1021.28,433.7183 " fill="none" id="Builder-to-rust_event" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="1026.16,435.1783,1018.6749,428.7772,1021.3677,433.752,1016.3929,436.4448,1026.16,435.1783" style="stroke:#006400;stroke-width:1.0;"/></g><!--MD5=[e4f418de7b4ae6b949bf61615faea6dd]
link Builder to rust_pb--><g id="link_Builder_rust_pb"><path d="M904.28,355.8983 C948.3,362.0183 1002.36,369.5483 1039.01,374.6483 " fill="none" id="Builder-to-rust_pb" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="1044.29,375.3783,1035.9398,370.1558,1039.3394,374.6772,1034.818,378.0768,1044.29,375.3783" style="stroke:#006400;stroke-width:1.0;"/></g><!--MD5=[3a3f657ba63bb7d594eed8a875d92521]
reverse link dart_event to Repository--><g id="link_dart_event_Repository"><path d="M1161.51,267.8183 C1194.73,267.1183 1232.66,266.3083 1262.91,265.6683 " fill="none" id="dart_event-backto-Repository" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1156.22,267.9383,1165.3091,271.7316,1161.2187,267.824,1165.1262,263.7337,1156.22,267.9383" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[10894b4d16423c22d8d90c96136e793c]
reverse link dart_pb to Repository--><g id="link_dart_pb_Repository"><path d="M1143.12,215.3383 C1179.97,225.6583 1226.81,238.7883 1262.82,248.8783 " fill="none" id="dart_pb-backto-Repository" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1138.21,213.9583,1145.8044,220.2293,1143.0262,215.3017,1147.9538,212.5234,1138.21,213.9583" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[03ae0a5b8d78032acf76b2393aac8724]
reverse link rust_event to Module--><g id="link_rust_event_Module"><path d="M1142.53,434.8083 C1183.28,423.3883 1236.46,408.4783 1273.65,398.0583 " fill="none" id="rust_event-backto-Module" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1137.62,436.1783,1147.3677,437.5863,1142.4324,434.8217,1145.1971,429.8864,1137.62,436.1783" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[b2a71739254d6b495e660bbeca61bff5]
reverse link rust_pb to Module--><g id="link_rust_pb_Module"><path d="M1124.79,381.3783 C1166.68,382.2683 1230.94,383.6283 1273.82,384.5383 " fill="none" id="rust_pb-backto-Module" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1119.54,381.2683,1128.4582,385.4474,1124.539,381.3683,1128.6182,377.449,1119.54,381.2683" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[df36e4cf551bbbcd1e9a911af7f4747f]
@startuml FlowySDK
title Protobuf Code Generation
left to right direction
skinparam linetype polyline
'skinparam monochrome reverse

frame Part_One {
    node "Event" #DDDDDD {
        file EventSource as "event_map.rs" #FFDDDD
        file EventCodeGen as "build.rs" #FFDDDD
        file EventDefine as "event_map.proto" #FFDDDD
    }
    note left of EventSource
    enum FolderEvent {
        #[event(input = "ExportPayloadPB", output = "ExportDataPB")]
        ExportDocument = 0,
    }
    end note

    node "Protobuf" #DDDDDD {
        file PBSource as "share.rs" #FFDDDD
        file PBCodeGen as "build.rs" #FFDDDD
        file PBDefine as "share.proto" #FFDDDD
    }
    note left of PBSource
    struct ExportDataPB {
        #[pb(index = 1)]
        pub data: String,

        #[pb(index = 2)]
        pub export_type: ExportType,
    }
    end note

    EventSource -> EventCodeGen
        EventCodeGen -> EventDefine
        PBSource -> PBCodeGen
        PBCodeGen -> PBDefine
}

frame Part_Two {
    node "Build.rs" #DDDDDD {
        component Builder as "Protoc Compiler" #F7931E
    }
}


frame Part_Three {
    component Protobuf_Files_Dart as "Protobuf Files" #DDDDDD {
        file dart_event as "event_map.pb.dart" #FFDDDD
        file dart_pb as "share.pb.dart" #FFDDDD
    }

    component Protobuf_Files_Rust as "Protobuf Files" #DDDDDD {
        file rust_event as "event_map.rs" #FFDDDD
        file rust_pb as "share.rs" #FFDDDD
    }
}

frame Part_Four {
    package "frontend (Flutter)" #DDDDDD {
        component Repository
    }

    package "Backend (Rust)" #DDDDDD {
        component Module
    }
}

EventDefine -[#blue]-> Builder
PBDefine -[#blue]-> Builder

Builder -[#DarkGreen]-> dart_event
Builder -[#DarkGreen]-> dart_pb
Builder -[#DarkGreen]-> rust_event
Builder -[#DarkGreen]-> rust_pb

Repository -[bold]up-> dart_event
Repository -[bold]up-> dart_pb

Module -[bold]up-> rust_event
Module -[bold]up-> rust_pb
@enduml

@startuml FlowySDK
title Protobuf Code Generation
left to right direction
skinparam linetype polyline

frame Part_One {
    node "Event" #DDDDDD {
        file EventSource as "event_map.rs" #FFDDDD
        file EventCodeGen as "build.rs" #FFDDDD
        file EventDefine as "event_map.proto" #FFDDDD
    }
    note left of EventSource
    enum FolderEvent {
        #[event(input = "ExportPayloadPB", output = "ExportDataPB")]
        ExportDocument = 0,
    }
    end note

    node "Protobuf" #DDDDDD {
        file PBSource as "share.rs" #FFDDDD
        file PBCodeGen as "build.rs" #FFDDDD
        file PBDefine as "share.proto" #FFDDDD
    }
    note left of PBSource
    struct ExportDataPB {
        #[pb(index = 1)]
        pub data: String,

        #[pb(index = 2)]
        pub export_type: ExportType,
    }
    end note

    EventSource -> EventCodeGen
        EventCodeGen -> EventDefine
        PBSource -> PBCodeGen
        PBCodeGen -> PBDefine
}

frame Part_Two {
    node "Build.rs" #DDDDDD {
        component Builder as "Protoc Compiler" #F7931E
    }
}


frame Part_Three {
    component Protobuf_Files_Dart as "Protobuf Files" #DDDDDD {
        file dart_event as "event_map.pb.dart" #FFDDDD
        file dart_pb as "share.pb.dart" #FFDDDD
    }

    component Protobuf_Files_Rust as "Protobuf Files" #DDDDDD {
        file rust_event as "event_map.rs" #FFDDDD
        file rust_pb as "share.rs" #FFDDDD
    }
}

frame Part_Four {
    package "frontend (Flutter)" #DDDDDD {
        component Repository
    }

    package "Backend (Rust)" #DDDDDD {
        component Module
    }
}

EventDefine -[#blue]-> Builder
PBDefine -[#blue]-> Builder

Builder -[#DarkGreen]-> dart_event
Builder -[#DarkGreen]-> dart_pb
Builder -[#DarkGreen]-> rust_event
Builder -[#DarkGreen]-> rust_pb

Repository -[bold]up-> dart_event
Repository -[bold]up-> dart_pb

Module -[bold]up-> rust_event
Module -[bold]up-> rust_pb
@enduml

PlantUML version 1.2022.5(Sat Apr 30 18:55:52 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>